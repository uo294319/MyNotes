# Coordination and consensus
---
[Go Back](../README.md)

---
## Introduction
- Why is it difficult to coordinate distributed systems?
	- Similar to multi-thread applications but without shared resources (semaphores or locks).
	- They coordinate through the network.
	- Nodes can fail separately. Impossible to differentiate from network delay.
- Coordination cases:
	- **Mutual exclusion** in access to resources.
	- **Election algorithms**. Nodes vote to choose a temporal leader or broker.
	- **Multicast** in groups of processes (only with point-to-point, not in UDP)
	- **Consensus**. System-wide decisions. Not only data but sequence of operations.
---
## Mutual Exclusion
### Definition
- A resource cannot be accessed by several processes at the same time.
- We define a critical section that can only be executed by one process.
### Non-distributed systems
- **Mutexes (locks)**.
	- When a process "grabs" it, no other process can do so until the first "drops it".
- **Semaphores** (generalisation of locks)
	- Store a counter that cannot go below 0.
	- Processes can decrement it with `sem_wait()` or increase it with `sem_post()`.
	- If a process tries to decrement it when it is 0, it is locked until other one increments it.
- **Monitors**
	- Data structure in object-oriented programming (java) to mark code as synchronised.
	- Internally works with a lock.
### Distributed Systems
- Types:
	- Centralized.
		- Some process is designated as the referee
		- Other process ask him for permission through network messages.
	- Decentralized.
		- There is no referee.
		- Processes agree among themselves as to wich can enter
---
## Consensus

---